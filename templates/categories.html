{% extends "base.html" %}
{% block content %}
<h1>Kategorie i zapisy</h1>
<p>Wybierz event, dyscyplinę i kategorię, do której chcesz się zapisać.</p>

<div class="card">
  <form id="registration-form">
    <div class="mb-3">
      <label for="event_select" class="form-label">Event:</label>
      <select class="form-select" id="event_select" name="event_id" required>
      <option value="">-- Wybierz event --</option>
        <!-- Events will be populated by JavaScript -->
    </select>
    </div>

    <div class="mb-3">
      <label class="form-label">Dyscypliny:</label>
      <div class="form-check">
        <input class="form-check-input" type="checkbox" id="discipline_kata" name="discipline_kata">
        <label class="form-check-label" for="discipline_kata">Kata</label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="checkbox" id="discipline_kumite" name="discipline_kumite">
        <label class="form-check-label" for="discipline_kumite">Kumite</label>
      </div>
    </div>

    <div id="kata_section" style="display:none" class="mb-3">
      <label for="category_kata_select" class="form-label">Kategoria Kata:</label>
      <select class="form-select" id="category_kata_select" name="category_kata_id">
        <option value="">-- Wybierz kategorię --</option>
        <!-- Kata categories will be populated by JavaScript -->
      </select>
    </div>

    <div id="kumite_section" style="display:none" class="mb-3">
      <label for="category_kumite_select" class="form-label">Kategoria Kumite:</label>
      <select class="form-select" id="category_kumite_select" name="category_kumite_id">
        <option value="">-- Wybierz kategorię --</option>
        <!-- Kumite categories will be populated by JavaScript -->
      </select>
    </div>

    <button type="submit" class="btn btn-primary">Zapisz się</button>
  </form>
</div>

<p id="has-registration-info" style="margin-top:12px; display:none;">
  Masz już zgłoszenie. Możesz je zobaczyć lub zmienić w <a href="/my-registration">Moje zgłoszenie</a>.
</p>

<script src="/static/js/categories.js"></script>
{% endblock %}

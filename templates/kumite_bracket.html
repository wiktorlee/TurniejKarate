{% extends "base.html" %}
{% block content %}
<h1>Lista walk - Kumite</h1>

<div class="card">
  <div id="kumite-bracket-container">
    <div class="text-center">
      <div class="spinner-border" role="status">
        <span class="visually-hidden">≈Åadowanie...</span>
      </div>
    </div>
  </div>
</div>

<script src="/static/js/registration.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    // Extract event_id and category_kumite_id from URL
    const urlParts = window.location.pathname.split('/');
    const eventId = parseInt(urlParts[urlParts.length - 2]);
    const categoryKumiteId = parseInt(urlParts[urlParts.length - 1]);
    
    if (eventId && categoryKumiteId) {
      loadKumiteBracket(eventId, categoryKumiteId);
    }
  });
</script>
{% endblock %}

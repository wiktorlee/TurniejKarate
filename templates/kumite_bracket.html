{% extends "base.html" %}
{% block content %}
<h1>Drzewko walk - Kumite</h1>

<div class="card">
  <h2 style="margin-top: 0;">{{ event_name }}</h2>
  <p><b>Kategoria:</b> {{ category_name }}</p>
  {% if start_date or end_date %}
    <p><b>Termin:</b> 
      {% if start_date and end_date %}
        {{ start_date.strftime('%d.%m.%Y') }} - {{ end_date.strftime('%d.%m.%Y') }}
      {% elif start_date %}
        {{ start_date.strftime('%d.%m.%Y') }}
      {% endif %}
    </p>
  {% endif %}
  
  <p style="margin-top: 16px;"><b>Runda 1</b> - Liczba pojedynk√≥w: {{ fights|length }}</p>
  
  {% if fights %}
    <div style="margin-top: 16px;">
      {% for fight in fights %}
        <div style="margin-bottom: 16px; padding: 12px; border: 1px solid #ddd; border-radius: 8px; {% if fight.is_current_user %}background: #e6f4ea; border-color: #0a58ca;{% endif %}">
          <div style="font-weight: bold; margin-bottom: 8px; color: #666;">
            Pojedynek {{ fight.fight_no }}
          </div>
          
          <div style="display: flex; align-items: center; gap: 12px; flex-wrap: wrap;">
            <div style="flex: 1; min-width: 200px;">
              <div style="color: #dc3545; font-weight: bold;">üî¥ {{ fight.red_code }}</div>
              <div>{{ fight.red_name }}</div>
              {% if fight.red_country %}
                <div style="font-size: 0.9em; color: #666;">{{ fight.red_country }}{% if fight.red_club %} - {{ fight.red_club }}{% endif %}</div>
              {% endif %}
            </div>
            
            <div style="font-weight: bold; color: #666;">vs</div>
            
            <div style="flex: 1; min-width: 200px;">
              {% if fight.is_bye %}
                <div style="color: #666; font-weight: bold;">[BYE]</div>
                <div style="color: #666; font-style: italic;">Wolny los</div>
              {% else %}
                <div style="color: #0a58ca; font-weight: bold;">üîµ {{ fight.blue_code }}</div>
                <div>{{ fight.blue_name }}</div>
                {% if fight.blue_country %}
                  <div style="font-size: 0.9em; color: #666;">{{ fight.blue_country }}{% if fight.blue_club %} - {{ fight.blue_club }}{% endif %}</div>
                {% endif %}
              {% endif %}
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p style="margin-top: 16px; color: #666;">Brak pojedynk√≥w w tej kategorii.</p>
  {% endif %}
  
  <div style="margin-top: 20px;">
    <a href="{{ url_for('registration.my_registration') }}" style="color: #0a58ca; text-decoration: none;">‚Üê Powr√≥t do moich zg≈Çosze≈Ñ</a>
  </div>
</div>
{% endblock %}



{% extends "base.html" %}
{% block content %}
<h1>Lista zawodników - Kata</h1>

<div class="card">
  <div id="kata-competitors-container">
    <div class="text-center">
      <div class="spinner-border" role="status">
        <span class="visually-hidden">Ładowanie...</span>
      </div>
    </div>
  </div>
</div>

<script src="/static/js/registration.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    // Extract event_id and category_kata_id from URL
    const urlParts = window.location.pathname.split('/');
    const eventId = parseInt(urlParts[urlParts.length - 2]);
    const categoryKataId = parseInt(urlParts[urlParts.length - 1]);
    
    if (eventId && categoryKataId) {
      loadKataCompetitors(eventId, categoryKataId);
    }
  });
</script>
{% endblock %}
